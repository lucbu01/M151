<div class="main">
    <form [formGroup]="productForm" (ngSubmit)="saveProduct()">
        <mat-card>
            <mat-card-title>{{ product ? 'Artikel bearbeiten' : 'Artikel erstellen' }}</mat-card-title>
            <mat-card-subtitle *ngIf="product">Artikelnummer: {{ product.number }}</mat-card-subtitle>
            <mat-card-content>
                <p>
                    <mat-form-field appearance="outline" style="width: 100%; max-width: 800px;">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name" maxlength="100" required>
                        <mat-error>Der Produktname ist ein Pflichtfeld</mat-error>
                    </mat-form-field>
                </p>
                <p>
                    <mat-form-field appearance="outline" style="width: 100%; max-width: 1400px;">
                        <mat-label>Beschreibung</mat-label>
                        <textarea matInput formControlName="description" required style="height: 200px;"></textarea>
                        <mat-error>Die Produktbeschreibung ist ein Pflichtfeld</mat-error>
                    </mat-form-field>
                </p>
                <p>
                    <mat-form-field appearance="outline">
                        <mat-label>Preis</mat-label>
                        <span matPrefix>CHF</span>
                        <input matInput type="number" formControlName="price" class="rightbound" required>
                        <mat-error>Der Preis ist ein Pflichtfeld</mat-error>
                    </mat-form-field>
                </p>
            </mat-card-content>
            <mat-card-actions>
                <button type="submit" mat-icon-button matTooltip="Speichern" color="primary" [disabled]="productForm.invalid"><mat-icon>save</mat-icon></button>
                <button type="button" mat-icon-button matTooltip="Zurück" routerLink="/" color="accent"><mat-icon>arrow_back</mat-icon></button>
                <button type="button" *ngIf="product" mat-icon-button matTooltip="Löschen" color="warn" (click)="deleteProduct()"><mat-icon>delete</mat-icon></button>
                <button type="button" *ngIf="product" mat-icon-button matTooltip="Anschauen" [routerLink]="'/product/' + product.number"><mat-icon>visibility</mat-icon></button>
            </mat-card-actions>
        </mat-card>
    </form>
</div>